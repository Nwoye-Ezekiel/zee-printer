:root {
  --color-white: #fff;
  --color-black: #000;
  --color-red: #ff4444;
  --color-brown: #f0ad22;
  --color-green: #4dd278;
  --color-lemon: #1bd218;
  --color-gold-1: #fbe300;
  --color-gold-2: #eccd00;
  --color-gold-3: #b29300;
  --color-gray-1: #f6f6f6;
  --color-gray-2: #efefef;
  --color-gray-3: #eaeaea;
  --color-gray-4: #e8e8e8;
  --color-gray-5: #e9e9e9;
  --color-gray-6: #e6e2e3;
  --color-gray-7: #d7d7d7;
  --color-gray-8: #cecece;
  --color-gray-9: #c5c5c5;
  --color-gray-10: #bcbcbc;
  --color-gray-11: #a1a1a1;
  --color-gray-12: #8d8e92;
  --color-gray-13: #e1e1e14d;
  --color-gray-14: #787878cc;
  --color-gray-15: #666669;
  --color-gray-16: #3838384d;
  --color-gray-17: #0000001a;
  --color-gray-18: #1a1a1a;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html,
body {
  height: 100%;
}

html {
  font-size: max(calc(16 * min(100vw / 600, 100vh / 800)), 0rem);
}

body {
  height: 100%;
  display: flex;
  overflow: hidden;
  position: relative;
  align-items: center;
  justify-content: center;
  background-color: var(--color-gray-5);
}

body::-webkit-scrollbar {
  display: none;
}

.printer {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  height: 44.25rem;
  width: 32.1875rem;
}

.printer::after {
  content: "";
  position: absolute;
  z-index: -2;
  width: 33.4375rem;
  height: 11.25rem;
  top: -0.625rem;
  left: 0.625rem;
  background: var(--color-gray-7);
  background: linear-gradient(
    180deg,
    var(--color-gray-7) 0%,
    var(--color-gray-14) 70%
  );
  border-radius: 3.75rem;
  filter: blur(1.5rem);
}

.printer > div:first-child {
  position: relative;
  display: flex;
  justify-content: space-between;
  align-items: end;
  z-index: 20;
  width: 100%;
  height: 7.4375rem;
  border-radius: 1.0625rem;
  background-color: var(--color-gray-7);
  box-shadow: 0rem 0.125rem 0.03125rem var(--color-gray-11);
  background: var(--color-gray-7);
  padding: 0.625rem 0.7rem 0.7rem 1rem;
  background: linear-gradient(
    180deg,
    var(--color-gray-7) 0%,
    var(--color-gray-1) 25%,
    var(--color-gray-7) 45%
  );
}

.printer > div:first-child > p {
  font-family: "Pacifico";
  font-size: 1.25rem;
  margin-bottom: -0.09375rem;
  color: var(--color-gray-3);
  text-shadow: -0.0625rem -0.0625rem 0.1875rem var(--color-gray-13),
    0.0625rem 0.0625rem 0.1875rem var(--color-gray-16);
}

#print-button {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.125rem;
  background: linear-gradient(145deg, var(--color-gray-18), var(--color-black));
  color: var(--color-white);
  font-weight: 500;
  padding: 0 0.5625rem 0 0.5625rem;
  border-radius: 1.5625rem;
  border: none;
  outline: 0;
  color: var(--color-gray-1);
  height: 1.625rem;
  cursor: pointer;
  transition: background-color 0.5s ease, border 0.5s ease;
  position: relative;
  overflow: hidden;
  letter-spacing: 0.03125rem;
  font-family: "Geist Mono";
  border: 0.0625rem solid var(--color-gray-4);
  box-shadow: 0.375rem 0.375rem 0.75rem var(--color-gray-9),
    -0.375rem -0.375rem 0.75rem var(--color-white);
}

#print-icon {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 0.875rem;
  width: 0.9375rem;
}

#print-icon::before {
  content: "";
  position: absolute;
  top: -0.15625rem;
  left: 50%;
  transform: rotate(45deg) translateX(-50%);
  width: 0.15625rem;
  height: 1.3125rem;
  border-radius: 0.03125rem;
  z-index: 3;
  animation: grow 0.5s ease forwards;
}

#print-icon > div:first-child {
  position: absolute;
  width: 0.625rem;
  height: 100%;
  transition: background-color 0.5s ease, border 0.5s ease;
  border-radius: 0.03125rem;
}

#print-icon > div:first-child div {
  display: flex;
  justify-content: center;
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 0.25rem;
  background-color: var(--color-black);
  z-index: 2;
}

#print-icon > div:first-child div::before {
  content: "";
  position: absolute;
  bottom: 0.09375rem;
  width: 70%;
  height: 0.0625rem;
  transition: background-color 0.5s ease, border 0.5s ease;
  z-index: 2;
  border-radius: 0.3125rem;
}

#print-icon > div:last-child {
  position: absolute;
  width: 100%;
  height: 0.40625rem;
  border-radius: 0.0625rem;
  transition: background-color 0.5s ease, border 0.5s ease;
}

#print-icon > div:last-child::after {
  content: "";
  right: 0.15625rem;
  top: 0.09375rem;
  position: absolute;
  width: 0.1875rem;
  height: 0.09375rem;
  background-color: var(--color-black);
  border-radius: 0.0625rem;
}

.active-icon#print-icon::before {
  display: block;
}

.active-icon#print-icon > div:first-child {
  border: 0.0625rem var(--color-lemon) solid;
}

.active-icon#print-icon > div:first-child div::before,
.active-icon#print-icon > div:last-child {
  background-color: var(--color-lemon);
}

.active-icon#print-icon::before {
  animation: grow 0.5s ease forwards;
  background: linear-gradient(
    90deg,
    var(--color-black) 50%,
    var(--color-lemon) 50%
  );
}

.inactive-icon#print-icon::before {
  animation: shrink 0.5s ease forwards;
  background: linear-gradient(
    90deg,
    var(--color-black) 50%,
    var(--color-red) 50%
  );
}

.inactive-icon#print-icon > div:first-child {
  border: 0.0625rem var(--color-red) solid;
}

.inactive-icon#print-icon > div:first-child div::before,
.inactive-icon#print-icon > div:last-child {
  background-color: var(--color-red);
}

#print-indicator {
  display: block;
  width: 0.5rem;
  height: 0.5rem;
  margin-left: 0.3125rem;
  border-radius: 50%;
  animation: blink 1s infinite;
  transition: background-color 0.5s ease, border 0.5s ease;
}

.active-background {
  background: var(--color-lemon);
}

.inactive-background {
  background: var(--color-red);
}

.printer > div:nth-child(2) {
  position: relative;
  z-index: -1;
  display: flex;
  justify-content: center;
  width: 32.125rem;
  height: 1.5rem;
  margin-top: -0.8125rem;
  background-color: var(--color-gray-10);
  clip-path: polygon(0 0, 100% 0, 99.6% 100%, 0.4% 100%);
}

.printer > div:last-child {
  position: relative;
  display: flex;
  justify-content: center;
  width: 31.875rem;
  height: 0.75rem;
  background-color: var(--color-gray-10);
  border-radius: 0 0 0.75rem 0.75rem;
  margin-top: -0.0625rem;
}

.printer > div:last-child > div {
  position: absolute;
  width: 30.125rem;
  bottom: 0.34375rem;
  height: 0.6875rem;
  border-radius: 0.375rem 0.375rem 0.625rem 0.625rem / 0.375rem 0.375rem
    0.9375rem 0.9375rem;
  background: var(--color-black);
  box-shadow: 0rem 0rem 0.3125rem 0.25rem var(--color-gray-8);
}

#receipt-wrapper {
  position: absolute;
  display: flex;
  justify-content: center;
  top: 0.1875rem;
  width: 100%;
  overflow: hidden;
  padding-bottom: 1.25rem;
  transition: opacity 5s linear;
}

.fade-out {
  opacity: 0;
}

#receipt-container {
  width: 91%;
  transform: translateY(-100%);
}

.print {
  animation: print 8s linear forwards;
}

.receipt {
  position: relative;
  width: 100%;
  background-color: var(--color-white);
  padding: 0.9375rem 0 0;
  font-family: "Geist Mono";
  font-size: 1rem;
  font-weight: 450;
  margin-bottom: 1.875rem;
  filter: drop-shadow(0 0.25rem 0.3125rem var(--color-gray-17));
}

.receipt-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1.375rem 1.375rem;
  border-bottom: 0.0625rem solid var(--color-gray-2);
}

.receipt-header > div:first-child {
  display: flex;
  flex-direction: column;
  gap: 0.4375rem;
}

.receipt-header > div:first-child > p:first-child {
  font-size: 1.1875rem;
  font-weight: 530;
  letter-spacing: -0.009375rem;
}

.receipt-header > div:first-child > p:last-child {
  gap: 1.125rem;
  display: flex;
  color: var(--color-gray-12);
}

.receipt-header > div:last-child {
  width: 3.25rem;
  height: 3.25rem;
  border-radius: 50%;
  background-color: var(--color-green);
  clip-path: polygon(
    0 0,
    0 100%,
    50% 100%,
    38.38% 80.76%,
    15.3% 55.76%,
    26% 44.23%,
    38.38% 56.5%,
    71.07% 21.15%,
    82.61% 32.69%,
    38.38% 80.76%,
    50% 100%,
    3.4375rem 100%,
    100% 0
  );
}

.receipt-body > div {
  display: flex;
  flex-direction: column;
  gap: 1.125rem;
  justify-content: space-between;
  padding: 1.375rem 1.375rem;
  color: var(--color-gray-15);
  border-bottom: 0.0625rem solid var(--color-gray-2);
}

.receipt-footer {
  display: flex;
  flex-direction: column;
  gap: 3.75rem;
  justify-content: space-between;
  padding: 1.375rem 1.375rem 0.9375rem;
}

.receipt-body > div > div,
.receipt-footer > div {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.receipt-body > div > div > p:last-child > span,
.receipt-footer > div > p:last-child > span {
  font-weight: 400;
}

.receipt-footer > div:last-child {
  display: flex;
  align-items: center;
  gap: 0.625rem;
  font-size: 1.125rem;
  margin: auto;
}

.receipt-footer > div > p:last-child {
  font-size: 1.1875rem;
  font-weight: 600;
}

.emoji {
  position: relative;
  width: 1.8125rem;
  height: 2.03125rem;
}

.emoji::after {
  content: "";
  position: absolute;
  bottom: 0;
  width: 80%;
  left: 50%;
  transform: translateX(-50%);
  height: 0.125rem;
  border-radius: 50%;
  background-color: var(--color-gray-6);
  filter: blur(0.01875rem);
}

.emoji > div {
  display: block;
  position: relative;
  width: 100%;
  height: 1.8125rem;
  border-radius: 50%;
  background-color: var(--color-gold-2);
  border: 0.0625rem var(--color-gold-3) solid;
  overflow: hidden;
}

.emoji > div::before {
  content: "";
  position: absolute;
  bottom: 0.125rem;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background-color: var(--color-gold-1);
}

.emoji > div > span:first-child {
  display: flex;
  justify-content: space-between;
  position: absolute;
  top: 40%;
  left: 50%;
  padding: 0 0.1875rem;
  transform: translateX(-50%);
  width: 100%;
  height: 0.25rem;
}

.emoji > div > span:first-child > span {
  position: relative;
  width: 0.21875rem;
  height: 0.25rem;
}

.emoji > div > span:first-child > span::after {
  content: "";
  position: absolute;
  bottom: -0.1875rem;
  left: 50%;
  transform: translateX(-50%);
  width: 0.21875rem;
  height: 0.125rem;
  border-radius: 50%;
  background-color: var(--color-brown);
  filter: blur(0.03125rem);
}

.emoji > div > span:first-child > span > span {
  display: block;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  border: 0.0625rem var(--color-gold-3) solid;
  clip-path: polygon(0 50%, 100% 50%, 100% 100%, 0% 100%);
}

.emoji > div > span:last-child {
  position: absolute;
  width: 0.8125rem;
  height: 0.8125rem;
  bottom: 0.40625rem;
  left: 50%;
  transform: translateX(-50%);
}

.emoji > div > span:last-child::after {
  content: "";
  position: absolute;
  top: -0.375rem;
  left: 50%;
  transform: translateX(-50%);
  width: 0.5rem;
  height: 0.125rem;
  border-radius: 50%;
  background-color: var(--color-white);
  filter: blur(0.0625rem);
}

.emoji > div > span:last-child > span {
  position: absolute;
  width: 95%;
  left: 50%;
  transform: translateX(-50%);
  height: 100%;
  border-radius: 50%;
  border: 0.0625rem var(--color-gold-3) solid;
  clip-path: polygon(0 85%, 100% 85%, 100% 100%, 0% 100%);
}

.cutout {
  position: relative;
}

.cutout > div {
  position: relative;
  filter: drop-shadow(0 0.75rem 0.3125rem var(--color-gray-17));
  width: 100%;
  margin-top: -0.0625rem;
}

.cutout > div > div {
  width: 100%;
  height: 2.5rem;
  background-color: var(--color-white);
  overflow-x: hidden;
  transform: translateY(-1.875rem);

  /* Standard masking */
  mask-image: radial-gradient(
    circle at 1.03125rem 2.1875rem,
    transparent 0.875rem,
    var(--color-black) 0.875rem
  );
  mask-size: 2.0625rem 2.1875rem;
  mask-repeat: repeat-x;
  mask-position: -0.78125rem 0;

  /* Safari/iOS support */
  -webkit-mask-image: radial-gradient(
    circle at 1.03125rem 2.1875rem,
    transparent 0.875rem,
    var(--color-black) 0.875rem
  );
  -webkit-mask-size: 2.0625rem 2.1875rem;
  -webkit-mask-repeat: repeat-x;
  -webkit-mask-position: -0.78125rem 0;
}

@keyframes blink {
  0%,
  50% {
    opacity: 1;
  }
  51%,
  100% {
    opacity: 0.4;
  }
}

@keyframes print {
  0% {
    transform: translateY(-100%);
  }
  100% {
    transform: translateY(0);
  }
}

@keyframes shrink {
  0% {
    clip-path: polygon(0 100%, 100% 100%, 100% 0, 0 0);
  }
  100% {
    clip-path: polygon(0 100%, 100% 100%, 100% 100%, 0 100%);
  }
}

@keyframes grow {
  0% {
    clip-path: polygon(0 100%, 100% 100%, 100% 100%, 0 100%);
  }
  100% {
    clip-path: polygon(0 100%, 100% 100%, 100% 0, 0 0);
  }
}
